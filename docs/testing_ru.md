# Документация по тестированию приложения YourcClue

**Версия:** 1.0
**Дата:** 06.11.2025

---

## 1. Введение

### 1.1. Цель документа
Настоящий документ описывает общую стратегию, план и конкретные тест-кейсы для проверки качества мобильного приложения **YourcClue** для платформы Android. Целью тестирования является подтверждение того, что приложение соответствует всем функциональным и нефункциональным требованиям, изложенным в Спецификации требований к программному обеспечению (SRS), а также обеспечение стабильной, надежной и удобной работы для конечного пользователя.

### 1.2. Область тестирования
Тестированию подлежит Android-приложение YourcClue, включая следующие ключевые функциональные области:
-   **Управление заметками:** Создание, редактирование, удаление и визуализация гео-заметок.
-   **Взаимодействие с картой:** Навигация по карте, отображение маркеров и определение местоположения пользователя.
-   **Связывание заметок:** Создание и отображение визуальных связей между заметками.
-   **Поиск и фильтрация:** Поиск заметок по тексту и фильтрация по дате.
-   **Хранение данных:** Корректность сохранения и загрузки данных в локальном JSON-файле.
-   **Пользовательский интерфейс:** Интуитивность, отзывчивость и корректное отображение всех элементов.

### 1.3. Ссылки
-   Спецификация требований к программному обеспечению (SRS.md)
-   Архитектурный документ (architecture.md)

---

## 2. Стратегия тестирования

### 2.1. Уровни тестирования

1.  **Модульное тестирование (Unit Testing):**
    -   **Цель:** Проверка корректности работы отдельных, изолированных компонентов (классов и методов).
    -   **Объекты:** Классы-утилиты (`ColorUtils`), обработчики данных (`LocalStorageHandler`), адаптеры (`IconAdapter`).
    -   **Инструменты:** JUnit.

2.  **Интеграционное тестирование (Integration Testing):**
    -   **Цель:** Проверка взаимодействия между различными компонентами системы.
    -   **Сценарии:** Взаимодействие `MainActivity` с `LocalStorageHandler` при сохранении/загрузке данных; взаимодействие `MainActivity` с `MapLibre SDK` для отрисовки маркеров и линий.

3.  **Системное тестирование (System Testing):**
    -   **Цель:** Проверка приложения как единой системы на соответствие требованиям SRS.
    -   **Сценарии:** Выполнение полных пользовательских сценариев (Use Cases) от начала до конца, например: запуск приложения -> создание двух заметок -> связывание их -> закрытие приложения -> повторный запуск и проверка сохраненных данных.

4.  **Тестирование пользовательского интерфейса (UI Testing):**
    -   **Цель:** Проверка корректности работы UI и его реакции на действия пользователя.
    -   **Сценарии:** Проверка отображения всплывающих окон, работы кнопок, ввода текста, навигации по карте.
    -   **Инструменты:** Espresso.

### 2.2. Типы тестирования

-   **Функциональное тестирование:** Проверка всех функций, описанных в разделе 3.2 документа SRS.
-   **Тестирование производительности:** Проверка времени запуска, плавности навигации по карте при большом количестве заметок (500+).
-   **Тестирование безопасности:** Проверка того, что данные хранятся в приватном хранилище приложения и недоступны другим приложениям.
-   **Тестирование удобства использования (Usability Testing):** Оценка того, насколько интерфейс интуитивно понятен для нового пользователя.
-   **Тестирование совместимости:** Проверка корректной работы приложения на различных версиях ОС Android (минимальный SDK 24) и устройствах с разными размерами экранов.

---

## 3. Тестовое окружение

-   **Аппаратное обеспечение:**
    -   Физические устройства на Android 10, 12, 13.
    -   Эмуляторы Android Studio с разными версиями API (24, 28, 33) и разрешениями экрана (mdpi, xhdpi, xxhdpi).
-   **Программное обеспечение:**
    -   ОС: Android (API 24+).
    -   Среда: Android Studio.
-   **Инструменты:**
    -   Android Studio Debugger.
    -   Android Studio Profiler (для анализа производительности и потребления памяти).
    -   JUnit, Espresso.

---

## 4. Тест-кейсы

### 4.1. Управление заметками (SRS 3.2.1)

| ID | Название теста | Шаги для воспроизведения | Ожидаемый результат |
| :--- | :--- | :--- | :--- |
| **TC-N-01** | Успешное создание заметки | 1. Нажать на любую точку на карте. <br>2. Нажать кнопку "Добавить заметку". <br>3. Ввести текст "Тестовая заметка". <br>4. Выбрать дату. <br>5. Выбрать иконку. <br>6. Нажать "Сохранить". | На карте появляется новый маркер. При коротком нажатии отображается текст "Тестовая заметка". Данные сохраняются после перезапуска приложения. |
| **TC-N-02** | Попытка создать заметку с пустым текстом | 1. Нажать на любую точку на карте. <br>2. Нажать "Добавить заметку". <br>3. Не вводя текст, нажать "Сохранить". | Заметка не создается. Появляется уведомление об ошибке "Текст не может быть пустым". |
| **TC-N-03** | Успешное редактирование заметки | 1. Создать заметку. <br>2. Выполнить долгое нажатие на ее маркер. <br>3. Изменить текст на "Отредактированный текст". <br>4. Нажать "Сохранить". | Текст заметки обновлен. При коротком нажатии отображается "Отредактированный текст". |
| **TC-N-04** | Успешное удаление заметки | 1. Создать заметку. <br>2. Выполнить долгое нажатие на ее маркер. <br>3. Нажать кнопку удаления. <br>4. Подтвердить удаление. | Маркер заметки исчезает с карты. Заметка удалена из файла `notes.json`. |
| **TC-N-05** | Отмена редактирования заметки | 1. Создать заметку с текстом "Исходный текст". <br>2. Открыть ее на редактирование. <br>3. Изменить текст, но нажать кнопку отмены. | Изменения не сохраняются. Текст заметки остается "Исходный текст". |

### 4.2. Взаимодействие с картой (SRS 3.2.2)

| ID | Название теста | Шаги для воспроизведения | Ожидаемый результат |
| :--- | :--- | :--- | :--- |
| **TC-M-01** | Навигация по карте | 1. Двумя пальцами выполнить жест "pinch-to-zoom". <br>2. Одним пальцем перемещать карту. | Карта плавно масштабируется и перемещается без рывков. |
| **TC-M-02** | Определение местоположения пользователя | 1. Предоставить разрешение на геолокацию. <br>2. Нажать кнопку "Мое местоположение". | Карта центрируется на текущем местоположении пользователя, отображается соответствующий маркер. |
| **TC-M-03** | Поведение при отсутствии разрешения на геолокацию | 1. Запретить доступ к геолокации. <br>2. Нажать кнопку "Мое местоположение". | Приложение отображает сообщение о необходимости предоставить разрешение и не падает. |
| **TC-M-04** | Цветовая индикация маркера в зависимости от даты | 1. Создать несколько заметок с датами, приходящимися на разные дни недели. | Цвет маркеров соответствует дню недели, как определено в `ColorUtils`. |

### 4.3. Связывание заметок (SRS 3.2.3)

| ID | Название теста | Шаги для воспроизведения | Ожидаемый результат |
| :--- | :--- | :--- | :--- |
| **TC-L-01** | Успешное создание связи | 1. Создать две заметки (А и Б). <br>2. Открыть заметку А на редактирование. <br>3. Нажать "Связать заметку". <br>4. Нажать на маркер заметки Б. | Между маркерами А и Б на карте появляется линия. Связь сохраняется после перезапуска. |
| **TC-L-02** | Попытка связать заметку с самой собой | 1. Создать заметку А. <br>2. Открыть ее на редактирование и войти в режим связывания. <br>3. Нажать на маркер заметки А. | Связь не создается. Приложение не падает. |
| **TC-L-03** | Удаление связи | 1. Связать заметки А и Б. <br>2. Открыть заметку А на редактирование. <br>3. В списке связанных заметок нажать "Отвязать" напротив заметки Б. | Линия между А и Б на карте исчезает. |
| **TC-L-04** | Удаление заметки, имеющей связи | 1. Связать заметки А и Б. <br>2. Удалить заметку А. | Заметка А и линия связи исчезают. В данных заметки Б ссылка на А удаляется. |

### 4.4. Поиск и фильтрация (SRS 3.2.4)

| ID | Название теста | Шаги для воспроизведения | Ожидаемый результат |
| :--- | :--- | :--- | :--- |
| **TC-SF-01**| Поиск по тексту (успешный) | 1. Создать заметки "Яблоко" и "Груша". <br>2. В поле поиска ввести "Ябл". | Маркер заметки "Яблоко" остается непрозрачным, маркер "Груша" становится полупрозрачным. |
| **TC-SF-02**| Поиск по тексту (нет результатов) | 1. Создать заметки "Яблоко" и "Груша". <br>2. В поле поиска ввести "Апельсин". | Оба маркера становятся полупрозрачными. |
| **TC-SF-03**| Очистка поля поиска | 1. Выполнить поиск. <br>2. Очистить поле поиска. | Все маркеры на карте снова становятся полностью непрозрачными. |
| **TC-SF-04**| Фильтрация по дате | 1. Создать заметки с датами 10.10.2025 и 15.11.2025. <br>2. Открыть календарь, выбрать диапазон с 01.11.2025 по 30.11.2025. <br>3. Применить фильтр. | На карте отображается только заметка с датой 15.11.2025. |

### 4.5. Нефункциональные требования

| ID | Название теста | Шаги для воспроизведения | Ожидаемый результат |
| :--- | :--- | :--- | :--- |
| **TC-NF-01**| Производительность карты | 1. Программно сгенерировать и сохранить 500 заметок. <br>2. Запустить приложение. <br>3. Активно перемещать и масштабировать карту. | Время запуска не превышает 3 секунд. Навигация по карте плавная, без видимых зависаний (лаг < 250 мс). |
| **TC-NF-02**| Сохранность данных | 1. Создать/изменить/удалить несколько заметок. <br>2. Принудительно закрыть приложение через диспетчер задач. <br>3. Снова открыть приложение. | Все изменения, сделанные до закрытия, корректно сохранены и отображаются. |
| **TC-NF-03**| Безопасность хранения | 1. С помощью файлового менеджера на устройстве с root-доступом проверить расположение файла `notes.json`. | Файл находится в приватной директории приложения (`/data/data/com.yourclue.package/files/`) и недоступен для чтения другим приложениям. |